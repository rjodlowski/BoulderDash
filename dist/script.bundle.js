/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Board.ts":
/*!**********************!*\
  !*** ./src/Board.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _levels_Levels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./levels/Levels */ \"./src/levels/Levels.ts\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Player */ \"./src/Player.ts\");\n/* harmony import */ var _entities_BorderWall__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entities/BorderWall */ \"./src/entities/BorderWall.ts\");\n/* harmony import */ var _entities_InnerWall__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entities/InnerWall */ \"./src/entities/InnerWall.ts\");\n/* harmony import */ var _entities_Dirt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./entities/Dirt */ \"./src/entities/Dirt.ts\");\n/* harmony import */ var _entities_Butterfly__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entities/Butterfly */ \"./src/entities/Butterfly.ts\");\n/* harmony import */ var _entities_Firefly__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./entities/Firefly */ \"./src/entities/Firefly.ts\");\n/* harmony import */ var _entities_Boulder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./entities/Boulder */ \"./src/entities/Boulder.ts\");\n/* harmony import */ var _entities_Diamond__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./entities/Diamond */ \"./src/entities/Diamond.ts\");\n/* harmony import */ var _entities_Ameba__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./entities/Ameba */ \"./src/entities/Ameba.ts\");\n/* harmony import */ var _entities_Entrance__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./entities/Entrance */ \"./src/entities/Entrance.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Board = /** @class */ (function () {\r\n    function Board(gv) {\r\n        this._gv = gv;\r\n        this.displaysWalls = {\r\n            top: false,\r\n            bottom: false,\r\n            left: false,\r\n            right: false,\r\n        };\r\n        // image loading\r\n        // Game stuff\r\n        this.createStats();\r\n        this.setLevel(this._gv.currLevelNumber);\r\n        this.createCanvas();\r\n        this.checkWalls();\r\n        this.getPartOfScene();\r\n        this.displayScene();\r\n        this.generateBoulders();\r\n        this.startGame();\r\n    }\r\n    Board.prototype.createStats = function () {\r\n        this._gv.statsDiv = document.createElement(\"div\");\r\n        this._gv.levelNumberDiv = document.createElement(\"div\");\r\n        this._gv.diamondsCollectedDiv = document.createElement(\"div\");\r\n        this._gv.diamondsToCollectDiv = document.createElement(\"div\");\r\n        this._gv.timeLeftDiv = document.createElement(\"div\");\r\n        this._gv.scoreDiv = document.createElement(\"div\");\r\n        this._gv.statsDiv.id = \"statsDiv\";\r\n        this._gv.levelNumberDiv.id = \"levelNumber\";\r\n        this._gv.diamondsCollectedDiv.id = \"diamondsCollected\";\r\n        this._gv.diamondsToCollectDiv.id = \"diamondsToCollect\";\r\n        this._gv.timeLeftDiv.id = \"timeLeft\";\r\n        this._gv.scoreDiv.id = \"score\";\r\n        this._gv.statsDiv.style.width = this._gv.canvasWidth + \"px\";\r\n        this._gv.levelNumberDiv.innerText = \"\" + (this._gv.currLevelNumber + 1);\r\n        this._gv.diamondsCollectedDiv.innerText = \"\" + this._gv.diamondsCollected[this._gv.currLevelNumber];\r\n        this._gv.diamondsToCollectDiv.innerText = \"\" + this._gv.diamondsToCollectNumber[this._gv.currLevelNumber];\r\n        this._gv.timeLeftDiv.innerText = \"\" + this._gv.timeLeft;\r\n        this._gv.scoreDiv.innerText = \"\" + this._gv.score;\r\n        this._gv.statsDiv.appendChild(this._gv.levelNumberDiv);\r\n        this._gv.statsDiv.appendChild(this._gv.diamondsCollectedDiv);\r\n        this._gv.statsDiv.appendChild(this._gv.diamondsToCollectDiv);\r\n        this._gv.statsDiv.appendChild(this._gv.timeLeftDiv);\r\n        this._gv.statsDiv.appendChild(this._gv.scoreDiv);\r\n        this._gv.app.appendChild(this._gv.statsDiv);\r\n    };\r\n    Board.prototype.startGame = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i, ameba, firefliesNButterflies, _i, firefliesNButterflies_1, ai;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < 31)) return [3 /*break*/, 4];\r\n                        this._gv.startGameEntranceFlicker = !this._gv.startGameEntranceFlicker;\r\n                        return [4 /*yield*/, this.sleep(150)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4:\r\n                        this._gv.startGamePlayerShown = true;\r\n                        this._gv.playerCanMove = true;\r\n                        ameba = this._gv.allAI.filter(function (el) { return el.constructor.name == \"Ameba\"; });\r\n                        if (ameba.length > 0) {\r\n                            ameba[0] instanceof _entities_Ameba__WEBPACK_IMPORTED_MODULE_9__[\"default\"] ? ameba[0].expand() : null;\r\n                        }\r\n                        firefliesNButterflies = this._gv.allAI.filter(function (el) {\r\n                            return el.constructor.name == \"Firefly\" ||\r\n                                el.constructor.name == \"Butterfly\";\r\n                        });\r\n                        if (firefliesNButterflies.length > 0) {\r\n                            for (_i = 0, firefliesNButterflies_1 = firefliesNButterflies; _i < firefliesNButterflies_1.length; _i++) {\r\n                                ai = firefliesNButterflies_1[_i];\r\n                                if (ai instanceof _entities_Firefly__WEBPACK_IMPORTED_MODULE_6__[\"default\"] || ai instanceof _entities_Butterfly__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\r\n                                    ai.startMoving();\r\n                            }\r\n                        }\r\n                        this.setLevelTimer();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Board.prototype.setLevelTimer = function () {\r\n        var _this = this;\r\n        this._gv.startTime = new Date().getTime();\r\n        this._gv.endTime = this._gv.startTime + (this._gv.timePerLevel * 1000);\r\n        this.timerUpdateInterval = setInterval(function () {\r\n            _this._gv.timeLeft = Math.floor((_this._gv.endTime - new Date().getTime()) / 1000);\r\n            _this._gv.timeLeftDiv.innerText = \"\" + _this._gv.timeLeft;\r\n            if (_this._gv.timeLeft <= 0) {\r\n                _Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"].die(_this._gv, \"timed out\");\r\n                clearInterval(_this.timerUpdateInterval);\r\n            }\r\n        }, 500);\r\n    };\r\n    Board.prototype.sleep = function (ms) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n    };\r\n    Board.prototype.updateGameStats = function () {\r\n    };\r\n    /**\r\n     * Creates canvas element and drawing context\r\n     */\r\n    Board.prototype.createCanvas = function () {\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = this._gv.canvasWidth;\r\n        canvas.height = this._gv.canvasHeight;\r\n        this._gv.app.append(canvas);\r\n        this._gv.canvas = canvas;\r\n        this._gv.ctx = this._gv.canvas.getContext(\"2d\");\r\n        this._gv.ctx.fillStyle = \"black\";\r\n        this._gv.ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    };\r\n    /**\r\n     * Sets the level id and associated params in GlobalVars\r\n     * @param levelId\r\n     */\r\n    Board.prototype.setLevel = function (levelId) {\r\n        this._gv.currLevelNumber = levelId;\r\n        this._gv.currLevel = _levels_Levels__WEBPACK_IMPORTED_MODULE_0__[\"default\"][this._gv.currLevelNumber];\r\n        this._gv.levelHeight = this._gv.currLevel.length;\r\n        this._gv.levelWidth = this._gv.currLevel[0].length;\r\n        this._gv.levelNumberDiv.innerText = \"\" + (this._gv.currLevelNumber + 1);\r\n    };\r\n    /**\r\n     * Gets the part of the scene to display\r\n     */\r\n    Board.prototype.getPartOfScene = function () {\r\n        var _this = this;\r\n        var partOfScene = new Array(this._gv.fieldsPerHeight).fill(0).map(function () { return new Array(_this._gv.fieldsPerWidth).fill(\"XD\"); });\r\n        for (var y = 0; y < this._gv.fieldsPerHeight; y++) {\r\n            for (var x = 0; x < this._gv.fieldsPerWidth; x++) {\r\n                if (y + this._gv.displayY < this._gv.currLevel.length &&\r\n                    x + this._gv.displayX < this._gv.currLevel[0].length) {\r\n                    partOfScene[y][x] = this._gv.currLevel[y + this._gv.displayY][x + this._gv.displayX];\r\n                }\r\n            }\r\n        }\r\n        this._gv.scenePart = partOfScene;\r\n        // console.log(this.scenePart);\r\n    };\r\n    /**\r\n     * Checks if the sides of a level are displayed\r\n     */\r\n    Board.prototype.checkWalls = function () {\r\n        this._gv.displayY == 0 ? this.displaysWalls.top = true : this.displaysWalls.top = false;\r\n        this._gv.displayY + this._gv.fieldsPerHeight >= this._gv.currLevel.length - 1 ? this.displaysWalls.bottom = true : this.displaysWalls.bottom = false;\r\n        this._gv.displayX == 0 ? this.displaysWalls.left = true : this.displaysWalls.left = false;\r\n        this._gv.displayX + this._gv.fieldsPerWidth >= this._gv.currLevel[0].length - 1 ? this.displaysWalls.right = true : this.displaysWalls.right = false;\r\n        // console.log(this.displaysWalls);\r\n        // this.displayScene();\r\n    };\r\n    /**\r\n     * Move the part of the scene in the given direction\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Board.movePartOfScene = function (gv, direction) {\r\n        // console.log(direction);\r\n        switch (direction) {\r\n            case \"top\":\r\n                if (gv.displayY > 0) {\r\n                    gv.displayY--;\r\n                    Board.moveDynamicMandatory(gv, \"top\");\r\n                    Board.moveStaticMandatory(gv, \"top\");\r\n                    _Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"].movePlayerWithBoard(gv, \"top\");\r\n                }\r\n                else {\r\n                    console.log(\"Can't move up\", gv.displayY);\r\n                }\r\n                break;\r\n            case \"bottom\":\r\n                if (gv.displayY + gv.fieldsPerHeight <= gv.levelHeight - 1) {\r\n                    gv.displayY++;\r\n                    Board.moveDynamicMandatory(gv, \"bottom\");\r\n                    Board.moveStaticMandatory(gv, \"bottom\");\r\n                    _Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"].movePlayerWithBoard(gv, \"bottom\");\r\n                }\r\n                else {\r\n                    console.log(\"Can't move down\", gv.displayY);\r\n                }\r\n                break;\r\n            case \"left\":\r\n                if (gv.displayX > 0) {\r\n                    gv.displayX--;\r\n                    Board.moveDynamicMandatory(gv, \"left\");\r\n                    Board.moveStaticMandatory(gv, \"left\");\r\n                    _Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"].movePlayerWithBoard(gv, \"left\");\r\n                }\r\n                else {\r\n                    console.log(\"Can't move left\", gv.displayX);\r\n                }\r\n                break;\r\n            case \"right\":\r\n                if (gv.displayX + gv.fieldsPerWidth <= gv.levelWidth - 1) {\r\n                    gv.displayX++;\r\n                    Board.moveDynamicMandatory(gv, \"right\");\r\n                    Board.moveStaticMandatory(gv, \"right\");\r\n                    _Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"].movePlayerWithBoard(gv, \"right\");\r\n                }\r\n                else {\r\n                    console.log(\"Can't move right\", gv.displayX);\r\n                }\r\n                break;\r\n            default:\r\n                console.log(\"Unknown direction\");\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Moves all dynamic entities when the board shifts\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Board.moveDynamicMandatory = function (gv, direction) {\r\n        // console.log(\"Moving all dynamic entities: \", direction);\r\n        for (var _i = 0, _a = gv.allDynamic; _i < _a.length; _i++) {\r\n            var dynamic = _a[_i];\r\n            dynamic.mandatoryMove(direction);\r\n        }\r\n        for (var _b = 0, _c = gv.allAI; _b < _c.length; _b++) {\r\n            var ai = _c[_b];\r\n            if (!(ai instanceof _entities_Ameba__WEBPACK_IMPORTED_MODULE_9__[\"default\"])) {\r\n                ai.mandatoryMove(direction);\r\n            }\r\n        }\r\n        gv.exit.mandatoryMove(direction);\r\n    };\r\n    /**\r\n     * Moves static elements of the gameboard\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Board.moveStaticMandatory = function (gv, direction) {\r\n        switch (direction) {\r\n            case \"top\":\r\n                for (var i = 0; i < gv.allElements.length; i++) {\r\n                    gv.allElements[i].relY += gv.fieldSize;\r\n                }\r\n                break;\r\n            case \"bottom\":\r\n                for (var i = 0; i < gv.allElements.length; i++) {\r\n                    gv.allElements[i].relY -= gv.fieldSize;\r\n                }\r\n                break;\r\n            case \"left\":\r\n                for (var i = 0; i < gv.allElements.length; i++) {\r\n                    gv.allElements[i].relX += gv.fieldSize;\r\n                }\r\n                break;\r\n            case \"right\":\r\n                for (var i = 0; i < gv.allElements.length; i++) {\r\n                    gv.allElements[i].relX -= gv.fieldSize;\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Displays a part of the scene; Renders items represented by numbers in a level\r\n     */\r\n    Board.prototype.displayScene = function () {\r\n        for (var y = 0; y < this._gv.currLevel.length; y++) {\r\n            for (var x = 0; x < this._gv.currLevel[0].length; x++) {\r\n                var entityNumber = this._gv.currLevel[y][x];\r\n                switch (entityNumber) {\r\n                    case 0: // Empty field\r\n                        break;\r\n                    case 1: // Border wall\r\n                        this._gv.allElements.push(new _entities_BorderWall__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this._gv, x, y));\r\n                        break;\r\n                    case 2: // Inner wall\r\n                        this._gv.allElements.push(new _entities_InnerWall__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this._gv, x, y));\r\n                        break;\r\n                    case 3: // \r\n                        this._gv.allElements.push(new _entities_Dirt__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this._gv, x, y));\r\n                        break;\r\n                    case 4: // Boulder \r\n                        break;\r\n                    case 5: // Diamond \r\n                        break;\r\n                    case 6: // Firefly \r\n                        break;\r\n                    case 7: // Butterfly \r\n                        break;\r\n                    case 8: // Ameba \r\n                        break;\r\n                    case 9: // Player\r\n                        // console.log(`Creating player: x:${x}, y:${y}`);\r\n                        this._gv.entrance = new _entities_Entrance__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this._gv, this, x, y, \"start\");\r\n                        this._gv.playerX = x;\r\n                        this._gv.playerY = y;\r\n                        break;\r\n                    case 10:\r\n                        this._gv.exit = new _entities_Entrance__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this._gv, this, x, y, \"exit\");\r\n                        break;\r\n                    default:\r\n                        console.log(\"Unknown entity type\");\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generates all boulders in the level\r\n     */\r\n    Board.prototype.generateBoulders = function () {\r\n        for (var y = 0; y < this._gv.levelHeight; y++) {\r\n            for (var x = 0; x < this._gv.levelWidth; x++) {\r\n                if (this._gv.currLevel[y][x] == 4) {\r\n                    this._gv.allDynamic.push(new _entities_Boulder__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this._gv, x, y));\r\n                }\r\n                else if (this._gv.currLevel[y][x] == 5) {\r\n                    this._gv.allDynamic.push(new _entities_Diamond__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this._gv, x, y));\r\n                }\r\n                else if (this._gv.currLevel[y][x] == 6) {\r\n                    this._gv.allAI.push(new _entities_Firefly__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this._gv, x, y));\r\n                }\r\n                else if (this._gv.currLevel[y][x] == 7) {\r\n                    this._gv.allAI.push(new _entities_Butterfly__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this._gv, x, y));\r\n                }\r\n                else if (this._gv.currLevel[y][x] == 8) {\r\n                    this._gv.allAI.push(new _entities_Ameba__WEBPACK_IMPORTED_MODULE_9__[\"default\"](this._gv, x, y));\r\n                }\r\n            }\r\n        }\r\n        // this.enableGravity();\r\n    };\r\n    /**\r\n     * Switches gravity on for each boulder and diamond\r\n     */\r\n    // enableGravity() {\r\n    // \tlet boulders: Boulder[] = this._gv.allDynamic.filter((el) => { return el.constructor.name == \"Boulder\" })\r\n    // \tfor (let boulder of boulders) {\r\n    // \t\tboulder.fall();\r\n    // \t}\r\n    // \tlet diamonds: Diamond[] = this._gv.allDynamic.filter((el) => { return el.constructor.name == \"Diamond\" })\r\n    // \tfor (let diamond of diamonds) {\r\n    // \t\tdiamond.fall();\r\n    // \t}\r\n    // }\r\n    /**\r\n     * Removes a static element from the game\r\n     * @param index of the static element\r\n     * @param x relative of removed element\r\n     * @param y relative of removed element\r\n     */\r\n    Board.removeEl = function (gv, index, x, y) {\r\n        // Remove from allElements\r\n        gv.allElements.splice(index, 1);\r\n        // Remove from level\r\n        gv.currLevel[gv.displayY + y][gv.displayX + x] = 0;\r\n        gv.currLevel[gv.displayY + y][gv.displayX + x] = 9;\r\n    };\r\n    Board.prototype.update = function () {\r\n        if (this._gv.startGameEntranceFlicker) {\r\n            this._gv.entrance.update();\r\n        }\r\n        this._gv.exit.update();\r\n        // update all static elements on the board\r\n        if (Board.playerMoved) {\r\n            this.getPartOfScene();\r\n            Board.playerMoved = false;\r\n        }\r\n        // Update allElements on board\r\n        for (var _i = 0, _a = this._gv.allElements; _i < _a.length; _i++) {\r\n            var element = _a[_i];\r\n            element.update();\r\n        }\r\n        // Update all dynamic elements\r\n        for (var _b = 0, _c = this._gv.allDynamic; _b < _c.length; _b++) {\r\n            var dynamic = _c[_b];\r\n            dynamic.update();\r\n        }\r\n        // Update all AI elements\r\n        for (var _d = 0, _e = this._gv.allAI; _d < _e.length; _d++) {\r\n            var ai = _e[_d];\r\n            if (!(ai instanceof _entities_Ameba__WEBPACK_IMPORTED_MODULE_9__[\"default\"])) {\r\n                ai.update();\r\n            }\r\n        }\r\n    };\r\n    Board.playerMoved = false;\r\n    return Board;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Board);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/Board.ts?");

/***/ }),

/***/ "./src/GlobalVars.ts":
/*!***************************!*\
  !*** ./src/GlobalVars.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar GlobalVars = /** @class */ (function () {\r\n    function GlobalVars() {\r\n        // Canvas variables\r\n        this.app = document.getElementById(\"app\");\r\n        this.runRender = true; // Determines if the main board render function should be ran\r\n        this.fieldSize = 40; // [px] - Fields are squares, so both sides are even\r\n        this.fieldsPerWidth = 24;\r\n        this.fieldsPerHeight = 16;\r\n        this.canvasWidth = this.fieldsPerWidth * this.fieldSize; // Canvas height in pixels\r\n        this.canvasHeight = this.fieldsPerHeight * this.fieldSize; // Canvas width in pixels\t\r\n        this.currentScore = 0;\r\n        // image animation vairables\r\n        this.diamondPhase = 0;\r\n        this.fireflyPhase = 0;\r\n        this.butterflyPhase = 0;\r\n        this.amebaPhase = 0;\r\n        this.playerPhase = 0;\r\n        this.playerDirection = 0;\r\n        // Game variables\r\n        this.currLevelNumber = 2; // Mumber of the current level\r\n        this.currLevel = [[]]; // Current level\r\n        this.scenePart = [[]]; // Shown part of the level\r\n        this.gravityIntervalTime = 250;\r\n        // gravityIntervalTime: number = 1000;\r\n        this.amebaLimit = 10; // Max ameba size in order to change into diamonds\r\n        this.smolAmebaCount = 0;\r\n        this.timePerLevel = 150;\r\n        this.timeLeft = this.timePerLevel;\r\n        this.diamondsCollected = [0, 0, 0];\r\n        this.diamondsToCollectNumber = [12, 36, 1];\r\n        this.pointsPerDiamondCollected = 10;\r\n        this.pointsPerSecondSaved = 5;\r\n        this.score = 0;\r\n        this.newLevel = false;\r\n        this.exitOpen = false;\r\n        // Board display variables\r\n        this.displayX = 0; // x of the top left field of a displayed background\r\n        this.displayY = 0; // y\r\n        // Player variables\r\n        this.innerBorder = 3; // fields limiting the inner area of player movement\r\n        this.playerAlive = true;\r\n        this.startGamePlayerShown = false;\r\n        this.startGameEntranceFlicker = true;\r\n        this.playerCanMove = false;\r\n        // All elements on the board\r\n        this.allElements = [];\r\n        this.allDynamic = [];\r\n        this.allAI = [];\r\n    }\r\n    return GlobalVars;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GlobalVars);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/GlobalVars.ts?");

/***/ }),

/***/ "./src/Keyboard.ts":
/*!*************************!*\
  !*** ./src/Keyboard.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar Keyboard = /** @class */ (function () {\r\n    function Keyboard(gv, player) {\r\n        this._gv = gv;\r\n        this._player = player;\r\n        window.onkeydown = this.keyPressed.bind(this);\r\n    }\r\n    Keyboard.prototype.keyPressed = function (event) {\r\n        if (this._gv.playerCanMove) {\r\n            var key = event.key;\r\n            // console.log(key);\r\n            // Move player\r\n            if (event.repeat != true) {\r\n                if (key == \"a\" || key == \"ArrowLeft\") {\r\n                    this._player.move(\"left\");\r\n                }\r\n                else if (key == \"d\" || key == \"ArrowRight\") {\r\n                    this._player.move(\"right\");\r\n                }\r\n                else if (key == \"w\" || key == \"ArrowUp\") {\r\n                    this._player.move(\"up\");\r\n                }\r\n                else if (key == \"s\" || key == \"ArrowDown\") {\r\n                    this._player.move(\"down\");\r\n                }\r\n                else if (key == \" \") {\r\n                    this._gv.runRender = !this._gv.runRender;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Keyboard;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Keyboard);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/Keyboard.ts?");

/***/ }),

/***/ "./src/Player.ts":
/*!***********************!*\
  !*** ./src/Player.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Board */ \"./src/Board.ts\");\n/* harmony import */ var _entities_Butterfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entities/Butterfly */ \"./src/entities/Butterfly.ts\");\n/* harmony import */ var _entities_Diamond__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entities/Diamond */ \"./src/entities/Diamond.ts\");\n/* harmony import */ var _entities_Firefly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entities/Firefly */ \"./src/entities/Firefly.ts\");\n/* harmony import */ var _entities_Images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./entities/Images */ \"./src/entities/Images.ts\");\n\r\n\r\n\r\n\r\n\r\nvar Player = /** @class */ (function () {\r\n    function Player(gv, startX, startY) {\r\n        this.color = \"red\";\r\n        this.playerPassable = true;\r\n        this.entityPassable = true;\r\n        this.groundShifted = false;\r\n        this.playerPhaseSX = [0, 24, 48, 72, 96, 120, 144, 168];\r\n        this.playerPhaseSY = [24, 96, 120];\r\n        this._gv = gv;\r\n        // Player model dimensions\r\n        this.width = this._gv.fieldSize;\r\n        this.height = this._gv.fieldSize;\r\n        this.absX = startX;\r\n        this.absY = startY;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        this.getImage();\r\n        this.draw(this.relX, this.relY);\r\n    }\r\n    Player.prototype.getImage = function () {\r\n        this.imagePlayer = _entities_Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (el) { return el.name == \"rockford\"; })[0].image;\r\n    };\r\n    /**\r\n     * Draw the player using relative positions [px]\r\n     * @param relX\r\n     * @param relY\r\n     */\r\n    Player.prototype.draw = function (relX, relY) {\r\n        if (this._gv.newLevel) {\r\n            console.log(\"haha zmieniam se\");\r\n            this.absX = this._gv.playerX;\r\n            this.absY = this._gv.playerY;\r\n            this.relX = this.absX * this._gv.fieldSize;\r\n            this.relY = this.absY * this._gv.fieldSize;\r\n            this._gv.newLevel = false;\r\n        }\r\n        else {\r\n            if (this._gv.startGamePlayerShown) {\r\n                if (this._gv.playerAlive) {\r\n                    this._gv.ctx.drawImage(this.imagePlayer, this.playerPhaseSX[this._gv.playerPhase], this.playerPhaseSY[this._gv.playerDirection], 16, 16, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if a plater can move in the specified direction\r\n     * @param direction up | down | left | right\r\n     */\r\n    Player.prototype.canMove = function (direction) {\r\n        var _this = this;\r\n        switch (direction) {\r\n            case \"up\":\r\n                var elUp = this._gv.allElements.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY - _this._gv.fieldSize; });\r\n                if (elUp.length > 0) {\r\n                    if (!elUp[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                var elUpDyn = this._gv.allDynamic.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY - _this._gv.fieldSize; });\r\n                if (elUpDyn.length > 0) {\r\n                    if (!elUpDyn[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                break;\r\n            case \"down\":\r\n                var elDown = this._gv.allElements.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY + _this._gv.fieldSize; });\r\n                if (elDown.length > 0) {\r\n                    if (!elDown[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                var elDownDyn = this._gv.allDynamic.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY + _this._gv.fieldSize; });\r\n                if (elDownDyn.length > 0) {\r\n                    if (!elDownDyn[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                break;\r\n            case \"left\":\r\n                var elLeft = this._gv.allElements.filter(function (el) { return el.relX == _this.relX - _this._gv.fieldSize && el.relY == _this.relY; });\r\n                if (elLeft.length > 0) {\r\n                    if (!elLeft[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                var elLeftDyn = this._gv.allDynamic.filter(function (el) { return el.relX == _this.relX - _this._gv.fieldSize && el.relY == _this.relY; });\r\n                if (elLeftDyn.length > 0) {\r\n                    if (!elLeftDyn[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                break;\r\n            case \"right\":\r\n                var elRight = this._gv.allElements.filter(function (el) { return el.relX == _this.relX + _this._gv.fieldSize && el.relY == _this.relY; });\r\n                if (elRight.length > 0) {\r\n                    if (!elRight[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                var elRightDyn = this._gv.allDynamic.filter(function (el) { return el.relX == _this.relX + _this._gv.fieldSize && el.relY == _this.relY; });\r\n                if (elRightDyn.length > 0) {\r\n                    if (!elRightDyn[0].playerPassable) {\r\n                        return false;\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                console.log(\"Unknown direction\");\r\n                break;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Moves the player\r\n     * @param direction up | down | left | right\r\n     */\r\n    Player.prototype.move = function (direction) {\r\n        // Update player's position if it was moved alongside the board\r\n        this.absX = this._gv.playerX;\r\n        this.absY = this._gv.playerY;\r\n        _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playerMoved = true;\r\n        switch (direction) {\r\n            case 'up':\r\n                var upperBorderPx = this._gv.fieldSize * this._gv.innerBorder;\r\n                var minDisplayY = 0;\r\n                var distanceFromTop = this.relY;\r\n                if (this.relY > upperBorderPx || this._gv.displayY == minDisplayY && distanceFromTop <= upperBorderPx) {\r\n                    if (this.canMove(direction)) {\r\n                        this.relY -= this._gv.fieldSize;\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY - 1][this.absX] = 9;\r\n                        this.absY--;\r\n                        this._gv.playerY = this.absY;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.canMove(direction)) {\r\n                        console.log(\"Shift border top\");\r\n                        _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePartOfScene(this._gv, \"top\");\r\n                        this.groundShifted = true;\r\n                    }\r\n                }\r\n                break;\r\n            case 'down':\r\n                var lowerBorderPx = this._gv.canvasHeight - ((this._gv.innerBorder + 1) * this._gv.fieldSize);\r\n                var distanceFromBottom = this._gv.canvasHeight - (this._gv.canvasHeight - this.relY);\r\n                var maxDisplayY = this._gv.levelHeight - this._gv.fieldsPerHeight;\r\n                if (this.relY < lowerBorderPx || this._gv.displayY == maxDisplayY && distanceFromBottom >= lowerBorderPx) {\r\n                    if (this.canMove(direction)) {\r\n                        this.relY += this._gv.fieldSize;\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY + 1][this.absX] = 9;\r\n                        this.absY++;\r\n                        this._gv.playerY = this.absY;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.canMove(direction)) {\r\n                        console.log(\"Shift border bottom\");\r\n                        _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePartOfScene(this._gv, \"bottom\");\r\n                        this.groundShifted = true;\r\n                    }\r\n                }\r\n                // this._gv.playerDirection = 0;\r\n                break;\r\n            case 'left':\r\n                var leftBorderPx = this._gv.fieldSize * this._gv.innerBorder;\r\n                var minDisplayX = 0;\r\n                var distanceFromLeft = this.relX;\r\n                this.checkIfMovesSth(direction);\r\n                if (this.relX > leftBorderPx || this._gv.displayX == minDisplayX && distanceFromLeft <= leftBorderPx) {\r\n                    if (this.canMove(direction)) {\r\n                        this.relX -= this._gv.fieldSize;\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY][this.absX - 1] = 9;\r\n                        this.absX--;\r\n                        this._gv.playerX = this.absX;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.canMove(direction)) {\r\n                        console.log(\"Shift border left\");\r\n                        _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePartOfScene(this._gv, \"left\");\r\n                        this.groundShifted = true;\r\n                    }\r\n                }\r\n                this._gv.playerDirection = 1;\r\n                break;\r\n            case 'right':\r\n                var rightBorderPx = this._gv.canvasWidth - ((this._gv.innerBorder + 1) * this._gv.fieldSize);\r\n                var distanceFromRight = this._gv.canvasWidth - (this._gv.canvasWidth - this.relX);\r\n                var maxDisplayX = this._gv.levelWidth - this._gv.fieldsPerWidth;\r\n                this.checkIfMovesSth(direction);\r\n                if (this.relX < rightBorderPx || this._gv.displayX == maxDisplayX && distanceFromRight >= rightBorderPx) {\r\n                    if (this.canMove(direction)) {\r\n                        this.relX += this._gv.fieldSize;\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY][this.absX + 1] = 9;\r\n                        this.absX++;\r\n                        this._gv.playerX = this.absX;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.canMove(direction)) {\r\n                        console.log(\"Shift border right\");\r\n                        _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePartOfScene(this._gv, \"right\");\r\n                        this.groundShifted = true;\r\n                    }\r\n                }\r\n                this._gv.playerDirection = 2;\r\n                break;\r\n            default:\r\n                console.log(\"Unknown direction\");\r\n        }\r\n        this.checkIfWalkedOnSth();\r\n        // console.table(this._gv.currLevel)\r\n    };\r\n    /**\r\n     * Updates player's position in the current level when the board moves\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Player.movePlayerWithBoard = function (gv, direction) {\r\n        switch (direction) {\r\n            case \"top\":\r\n                gv.currLevel[gv.playerY][gv.playerX] = 0;\r\n                gv.currLevel[gv.playerY - 1][gv.playerX] = 9;\r\n                gv.playerY--;\r\n                break;\r\n            case \"bottom\":\r\n                gv.currLevel[gv.playerY][gv.playerX] = 0;\r\n                gv.currLevel[gv.playerY + 1][gv.playerX] = 9;\r\n                gv.playerY++;\r\n                break;\r\n            case \"left\":\r\n                gv.currLevel[gv.playerY][gv.playerX] = 0;\r\n                gv.currLevel[gv.playerY][gv.playerX - 1] = 9;\r\n                gv.playerX--;\r\n                break;\r\n            case \"right\":\r\n                gv.currLevel[gv.playerY][gv.playerX] = 0;\r\n                gv.currLevel[gv.playerY][gv.playerX + 1] = 9;\r\n                gv.playerX++;\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if player walked on sth (e.g. diamond, dirt)\r\n     */\r\n    Player.prototype.checkIfWalkedOnSth = function () {\r\n        var _this = this;\r\n        var found = this._gv.allElements.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY; });\r\n        if (found.length > 0) {\r\n            var index = this._gv.allElements.indexOf(found[0]);\r\n            _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"].removeEl(this._gv, index, found[0].relX / this._gv.fieldSize, found[0].relY / this._gv.fieldSize);\r\n        }\r\n        else {\r\n            var foundDyn = this._gv.allDynamic.filter(function (el) { return el.relX == _this.relX && el.relY == _this.relY; });\r\n            if (foundDyn.length > 0) {\r\n                var name_1 = foundDyn[0].constructor.name;\r\n                if (name_1 == \"Diamond\") {\r\n                    Player.collectDiamond(this._gv, foundDyn[0]);\r\n                }\r\n            }\r\n            else {\r\n                var foundAI = this._gv.allAI.filter(function (el) {\r\n                    return el.relX == _this.relX && el.relY == _this.relY;\r\n                });\r\n                if (foundAI.length > 0) {\r\n                    if (foundAI[0].constructor.name == \"Firefly\") {\r\n                        Player.die(this._gv, \"fireflied\");\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.absX == this._gv.exit.absX && this.absY == this._gv.exit.absY) {\r\n                        this._gv.exit.exit();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Moves a boulder or a diamond if it's able to\r\n     * @param side left | right\r\n     */\r\n    Player.prototype.checkIfMovesSth = function (side) {\r\n        // console.log(\"checkIfMovesSth: \", side);\r\n        var _this = this;\r\n        switch (side) {\r\n            case \"left\":\r\n                var entityLeft = this._gv.allDynamic.filter(function (el) {\r\n                    return el.absY == _this.absY &&\r\n                        el.absX == _this.absX - 1 &&\r\n                        (el.constructor.name == \"Boulder\" ||\r\n                            el.constructor.name == \"Diamond\");\r\n                });\r\n                if (entityLeft.length > 0) {\r\n                    var name_2 = entityLeft[0].constructor.name;\r\n                    if (name_2 == \"Boulder\") {\r\n                        if (!entityLeft[0].falling) {\r\n                            // console.log(\"Boulder / diamond moved:\", side);\r\n                            entityLeft[0].moveByPlayer(side);\r\n                        }\r\n                    }\r\n                    else if (name_2 == \"Diamond\") {\r\n                        // console.log(\"Walked on a diamond\");\r\n                    }\r\n                    else {\r\n                        console.log(\"Different obj\");\r\n                    }\r\n                }\r\n                break;\r\n            case \"right\":\r\n                var entityRight = this._gv.allDynamic.filter(function (el) {\r\n                    return el.absY == _this.absY &&\r\n                        el.absX == _this.absX + 1 &&\r\n                        (el.constructor.name == \"Boulder\" ||\r\n                            el.constructor.name == \"Diamond\");\r\n                });\r\n                if (entityRight.length > 0) {\r\n                    var name_3 = entityRight[0].constructor.name;\r\n                    // console.log(name);\r\n                    if (name_3 == \"Boulder\") {\r\n                        // console.log(\"Boulder / diamond moved:\", side);\r\n                        entityRight[0].moveByPlayer(side);\r\n                    }\r\n                    else if (name_3 == \"Diamond\") {\r\n                        // console.log(\"Walked on a diamond\");\r\n                    }\r\n                    else {\r\n                        console.log(\"Different obj\");\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Collects diamond, that was walked on\r\n     * @param diamond to be collected\r\n     */\r\n    Player.collectDiamond = function (gv, diamond) {\r\n        // console.log(\"Player collected a diamond!\");\r\n        if (diamond instanceof _entities_Diamond__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n            diamond.collect();\r\n        }\r\n        // gv.diamondsCollected += 1;\r\n        gv.diamondsCollectedDiv.innerText = \"\" + gv.diamondsCollected[gv.currLevelNumber];\r\n    };\r\n    /**\r\n     * Handles player death event\r\n     * @param reason event, that got the player killed\r\n     */\r\n    Player.die = function (gv, reason) {\r\n        console.log(\"Player died! Reason: \" + reason);\r\n        // change gv value\r\n        gv.playerAlive = false;\r\n        // change Player type value\r\n        Player.alive = false;\r\n        // Stop gravity interval\r\n        var boulders = gv.allDynamic.filter(function (el) { return el.constructor.name == \"Boulder\"; });\r\n        for (var _i = 0, boulders_1 = boulders; _i < boulders_1.length; _i++) {\r\n            var boulder = boulders_1[_i];\r\n            clearInterval(boulder.gravityInterval);\r\n        }\r\n        // Stop AI moving \r\n        for (var _a = 0, _b = gv.allAI; _a < _b.length; _a++) {\r\n            var ai = _b[_a];\r\n            if (ai instanceof _entities_Firefly__WEBPACK_IMPORTED_MODULE_3__[\"default\"] || ai instanceof _entities_Butterfly__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n                clearInterval(ai.movementInterval);\r\n            }\r\n        }\r\n        // Show end game picture\r\n        setTimeout(function () {\r\n            // Background\r\n            gv.ctx.fillStyle = \"black\";\r\n            gv.ctx.fillRect(0, 0, gv.canvas.width, gv.canvas.height);\r\n            // Text\r\n            gv.ctx.font = \"48px serif\";\r\n            gv.ctx.fillStyle = \"red\";\r\n            gv.ctx.fillText(\"Ded becose: \" + reason, 100, 100);\r\n            // Image\r\n            var img = new Image();\r\n            img.src = \"../assets/graphics/death_screen_2.jpg\";\r\n            img.onload = function () {\r\n                gv.ctx.drawImage(img, (gv.canvasWidth - 544) / 2, (gv.canvas.height - 339) / 2);\r\n            };\r\n        }, 100);\r\n    };\r\n    Player.win = function (gv) {\r\n        gv.playerAlive = false;\r\n        // change Player type value\r\n        Player.alive = false;\r\n        // Stop movement on the board\r\n        var boulders = gv.allDynamic.filter(function (el) { return el.constructor.name == \"Boulder\"; });\r\n        for (var _i = 0, boulders_2 = boulders; _i < boulders_2.length; _i++) {\r\n            var boulder = boulders_2[_i];\r\n            clearInterval(boulder.gravityInterval);\r\n        }\r\n        for (var _a = 0, _b = gv.allAI; _a < _b.length; _a++) {\r\n            var ai = _b[_a];\r\n            if (ai instanceof _entities_Firefly__WEBPACK_IMPORTED_MODULE_3__[\"default\"] || ai instanceof _entities_Butterfly__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n                clearInterval(ai.movementInterval);\r\n            }\r\n        }\r\n        setTimeout(function () {\r\n            // Background\r\n            gv.ctx.fillStyle = \"black\";\r\n            gv.ctx.fillRect(0, 0, gv.canvas.width, gv.canvas.height);\r\n            // Text\r\n            gv.ctx.font = \"48px serif\";\r\n            gv.ctx.fillStyle = \"red\";\r\n            gv.ctx.fillText(\"You win! Your score: \" + gv.score, 100, 100);\r\n            // Image\r\n            var img = new Image();\r\n            img.src = \"../assets/graphics/win_screen.jpg\";\r\n            img.onload = function () {\r\n                gv.ctx.drawImage(img, (gv.canvasWidth - 265) / 2, (gv.canvas.height - 257) / 2);\r\n            };\r\n        }, 100);\r\n    };\r\n    Player.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n        // Handles the ground shifting exception\r\n        if (this.groundShifted) {\r\n            this.checkIfWalkedOnSth();\r\n            this.groundShifted = false;\r\n        }\r\n    };\r\n    Player.alive = false;\r\n    return Player;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/Player.ts?");

/***/ }),

/***/ "./src/entities/Ameba.ts":
/*!*******************************!*\
  !*** ./src/entities/Ameba.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Boulder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Boulder */ \"./src/entities/Boulder.ts\");\n/* harmony import */ var _Diamond__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Diamond */ \"./src/entities/Diamond.ts\");\n/* harmony import */ var _SmolAmeba__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SmolAmeba */ \"./src/entities/SmolAmeba.ts\");\n\r\n\r\n\r\nvar Ameba = /** @class */ (function () {\r\n    // smolCount: number = 1;\r\n    function Ameba(gv, x, y) {\r\n        this.expandedDuringIteration = 1;\r\n        console.log(\"Ameba created\");\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        // Initial smol ameba\r\n        this._gv.allAI.push(new _SmolAmeba__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this._gv, this.absX, this.absY));\r\n        this._gv.smolAmebaCount++;\r\n        // this.expand();\r\n        // Player interaction with small ameba (blocks the wae) -> done\r\n        // Boulder interaction with small ameba (crushing) - done\r\n        // Boulder interaction -> swapping dirt under boulder -> no crush - done\r\n        // Ameba stops growing if no space (detection) - done\r\n        // Ameba changes into Diamonds or Boulders depending on size - done\r\n    }\r\n    /**\r\n     * Main grow function\r\n     */\r\n    Ameba.prototype.expand = function () {\r\n        var _this = this;\r\n        this.expandInterval = setInterval(function () {\r\n            if (_this.expandedDuringIteration != 0) {\r\n                console.log(\"expansion iteration\");\r\n                _this.contaminate();\r\n                console.log(_this.expandedDuringIteration);\r\n            }\r\n            else {\r\n                clearInterval(_this.expandInterval);\r\n                console.log(\"Stopped growing\", _this._gv.smolAmebaCount);\r\n                _this.finishExisting();\r\n            }\r\n        }, this._gv.gravityIntervalTime * 30);\r\n    };\r\n    /**\r\n     * A single iteration of ameba's expansion\r\n     */\r\n    Ameba.prototype.contaminate = function () {\r\n        this.expandedDuringIteration = 0;\r\n        var amebasOnStart = this._gv.allAI.map(function (el) { return el; });\r\n        var _loop_1 = function (ameba) {\r\n            if (ameba instanceof _SmolAmeba__WEBPACK_IMPORTED_MODULE_2__[\"default\"] && ameba.canExpand) {\r\n                var canExpandInto = ameba.canExpandInto();\r\n                for (var _a = 0, canExpandInto_1 = canExpandInto; _a < canExpandInto_1.length; _a++) {\r\n                    var direction = canExpandInto_1[_a];\r\n                    switch (direction) {\r\n                        case \"top\":\r\n                            if (this_1._gv.currLevel[ameba.absY - 1][ameba.absX] != 9) {\r\n                                if (this_1._gv.allAI.filter(function (el) {\r\n                                    return el.absX == ameba.absX && el.absY == ameba.absY - 1;\r\n                                }).length == 0) {\r\n                                    this_1.addNewAmeba(ameba.absX, ameba.absY - 1);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case \"bottom\":\r\n                            console.log();\r\n                            if (this_1._gv.currLevel[ameba.absY + 1][ameba.absX] != 9) {\r\n                                if (this_1._gv.allAI.filter(function (el) {\r\n                                    return el.absX == ameba.absX && el.absY == ameba.absY + 1;\r\n                                }).length == 0) {\r\n                                    this_1.addNewAmeba(ameba.absX, ameba.absY + 1);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case \"left\":\r\n                            if (this_1._gv.currLevel[ameba.absY][ameba.absX - 1] != 9) {\r\n                                if (this_1._gv.allAI.filter(function (el) {\r\n                                    return el.absX == ameba.absX - 1 && el.absY == ameba.absY;\r\n                                }).length == 0) {\r\n                                    this_1.addNewAmeba(ameba.absX - 1, ameba.absY);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case \"right\":\r\n                            if (this_1._gv.currLevel[ameba.absY][ameba.absX + 1] != 9) {\r\n                                if (this_1._gv.allAI.filter(function (el) {\r\n                                    return el.absX == ameba.absX + 1 && el.absY == ameba.absY;\r\n                                }).length == 0) {\r\n                                    this_1.addNewAmeba(ameba.absX + 1, ameba.absY);\r\n                                }\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, amebasOnStart_1 = amebasOnStart; _i < amebasOnStart_1.length; _i++) {\r\n            var ameba = amebasOnStart_1[_i];\r\n            _loop_1(ameba);\r\n        }\r\n    };\r\n    /**\r\n     * Creates new small Ameba tile\r\n     * @param x absX of the new SmolAmeba\r\n     * @param y absY of the new SmolAmeba\r\n     */\r\n    Ameba.prototype.addNewAmeba = function (x, y) {\r\n        this._gv.allAI.push(new _SmolAmeba__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this._gv, x, y));\r\n        this._gv.currLevel[y][x] = 8;\r\n        this.expandedDuringIteration++;\r\n        this._gv.smolAmebaCount++;\r\n    };\r\n    /**\r\n     * Turn into Boulders or Diamonds if cannot expand anymore\r\n     */\r\n    Ameba.prototype.finishExisting = function () {\r\n        var smols = this._gv.allAI.filter(function (el) { return el.constructor.name == \"SmolAmeba\"; });\r\n        if (this._gv.smolAmebaCount < this._gv.amebaLimit) {\r\n            // console.log(\"Turnin into Diamonds\");\r\n            for (var _i = 0, smols_1 = smols; _i < smols_1.length; _i++) {\r\n                var smol = smols_1[_i];\r\n                var diamond = new _Diamond__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this._gv, smol.absX, smol.absY);\r\n                var index = this._gv.allAI.indexOf(smol);\r\n                this._gv.allAI.splice(index, 1);\r\n                this._gv.allDynamic.push(diamond);\r\n            }\r\n        }\r\n        else {\r\n            // console.log(\"Turnin into Boulders\");\r\n            for (var _a = 0, smols_2 = smols; _a < smols_2.length; _a++) {\r\n                var smol = smols_2[_a];\r\n                var diamond = new _Boulder__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this._gv, smol.absX, smol.absY);\r\n                var index = this._gv.allAI.indexOf(smol);\r\n                this._gv.allAI.splice(index, 1);\r\n                this._gv.allDynamic.push(diamond);\r\n            }\r\n        }\r\n    };\r\n    return Ameba;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ameba);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Ameba.ts?");

/***/ }),

/***/ "./src/entities/BorderWall.ts":
/*!************************************!*\
  !*** ./src/entities/BorderWall.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n\r\n// Example object on the canvas, not the part of final project\r\nvar BorderWall = /** @class */ (function () {\r\n    function BorderWall(gv, x, y) {\r\n        this.color = \"black\";\r\n        this.playerPassable = false;\r\n        this.entityPassable = false;\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        this.getImage();\r\n        this.draw(this.relX, this.relY);\r\n    }\r\n    BorderWall.prototype.getImage = function () {\r\n        this.imageBorderWall = _Images__WEBPACK_IMPORTED_MODULE_0__[\"default\"].filter(function (el) { return el.name == \"borderWall\"; })[0].image;\r\n        this.imageExit = _Images__WEBPACK_IMPORTED_MODULE_0__[\"default\"].filter(function (el) { return el.name == \"door\"; })[0].image;\r\n    };\r\n    BorderWall.prototype.draw = function (relX, relY) {\r\n        if (this.constructor.name == \"BorderWall\") {\r\n            this._gv.ctx.drawImage(this.imageBorderWall, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n        else {\r\n            if (this._gv.exitOpen) {\r\n                this._gv.ctx.drawImage(this.imageExit, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n            }\r\n            else {\r\n                this._gv.ctx.drawImage(this.imageBorderWall, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n            }\r\n        }\r\n    };\r\n    BorderWall.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return BorderWall;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BorderWall);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/BorderWall.ts?");

/***/ }),

/***/ "./src/entities/Boulder.ts":
/*!*********************************!*\
  !*** ./src/entities/Boulder.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Player */ \"./src/Player.ts\");\n/* harmony import */ var _Butterfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Butterfly */ \"./src/entities/Butterfly.ts\");\n/* harmony import */ var _Diamond__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Diamond */ \"./src/entities/Diamond.ts\");\n/* harmony import */ var _Firefly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Firefly */ \"./src/entities/Firefly.ts\");\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n/* harmony import */ var _SmolAmeba__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SmolAmeba */ \"./src/entities/SmolAmeba.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nvar Boulder = /** @class */ (function () {\r\n    function Boulder(gv, x, y) {\r\n        this.color = \"yellow\";\r\n        this.playerPassable = false;\r\n        this.entityPassable = false;\r\n        this.falling = false;\r\n        this.diamondPhase1sx = [0, 24, 48, 72, 96, 120, 144, 168];\r\n        // console.log(\"Boulder created\");\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = (this.absX - this._gv.displayX) * this._gv.fieldSize;\r\n        this.relY = (this.absY - this._gv.displayY) * this._gv.fieldSize;\r\n        // setTimeout(() => {\r\n        this.getImage();\r\n        this.fall();\r\n        // }, 100);\r\n    }\r\n    Boulder.prototype.getImage = function () {\r\n        this.imageBoulder = _Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (el) { return el.name == \"boulder\"; })[0].image;\r\n        this.imageDiamond = _Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (el) { return el.name == \"diamond\"; })[0].image;\r\n    };\r\n    Boulder.prototype.draw = function (relX, relY) {\r\n        if (this.constructor.name == \"Boulder\") {\r\n            this._gv.ctx.drawImage(this.imageBoulder, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n        else {\r\n            this._gv.ctx.drawImage(this.imageDiamond, this.diamondPhase1sx[this._gv.diamondPhase], 0, 16, 16, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n    };\r\n    /**\r\n     * Movement based on board shifting\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Boulder.prototype.mandatoryMove = function (direction) {\r\n        // console.log(\"Moving me: \", direction);\r\n        switch (direction) {\r\n            case \"top\":\r\n                this.relY += this._gv.fieldSize;\r\n                break;\r\n            case \"bottom\":\r\n                this.relY -= this._gv.fieldSize;\r\n                break;\r\n            case \"left\":\r\n                this.relX += this._gv.fieldSize;\r\n                break;\r\n            case \"right\":\r\n                this.relX -= this._gv.fieldSize;\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n      * Movement affected by gravity\r\n      */\r\n    Boulder.prototype.fall = function () {\r\n        var _this = this;\r\n        this.gravityInterval = setInterval(function () {\r\n            if (_this.canFall()) {\r\n                // Fall relatively\r\n                _this.relY += _this._gv.fieldSize;\r\n                // Fall absolutely\r\n                _this._gv.currLevel[_this.absY][_this.absX] = 0;\r\n                _this._gv.currLevel[_this.absY + 1][_this.absX] = 4;\r\n                _this.absY++;\r\n                _this.falling = true;\r\n            }\r\n            else {\r\n                // console.log(this, \"rolling down\");\r\n                _this.rollDown();\r\n            }\r\n        }, this._gv.gravityIntervalTime + Math.random() * this._gv.gravityIntervalTime / 10);\r\n        // }, this._gv.gravityIntervalTime)\r\n        // this._gv.gravityIntervalTime -= 6; // Rocks lower fall faster\r\n    };\r\n    /**\r\n     * Checks if empty field beneath\r\n     */\r\n    Boulder.prototype.canFall = function () {\r\n        var _this = this;\r\n        if (this.absY < this._gv.levelHeight - 1) {\r\n            var fieldBeneath = void 0;\r\n            // Find an object of a field beneath in static and dynamic table\r\n            var foundStatic = this._gv.allElements.filter(function (el) {\r\n                return el.absX == _this.absX && el.absY == _this.absY + 1;\r\n            });\r\n            if (foundStatic.length == 0) {\r\n                var foundDynamic = this._gv.allDynamic.filter(function (el) {\r\n                    return el.absX == _this.absX && el.absY == _this.absY + 1;\r\n                });\r\n                if (foundDynamic.length > 0) {\r\n                    fieldBeneath = foundDynamic[0];\r\n                }\r\n                else {\r\n                    if (this.absX == this._gv.playerX && this.absY + 1 == this._gv.playerY) {\r\n                        if (this.falling) {\r\n                            if (this.constructor.name == \"Diamond\") {\r\n                                _Player__WEBPACK_IMPORTED_MODULE_0__[\"default\"].collectDiamond(this._gv, this);\r\n                            }\r\n                            else {\r\n                                _Player__WEBPACK_IMPORTED_MODULE_0__[\"default\"].die(this._gv, \"crushed\");\r\n                            }\r\n                            return true;\r\n                        }\r\n                        else {\r\n                            return false;\r\n                        }\r\n                    }\r\n                    else {\r\n                        var foundAI = this._gv.allAI.filter(function (el) {\r\n                            return el.absX == _this.absX && el.absY == _this.absY + 1;\r\n                        });\r\n                        if (foundAI.length > 0) {\r\n                            if (foundAI[0] instanceof _Firefly__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\r\n                                foundAI[0].crush();\r\n                            }\r\n                            else if (foundAI[0] instanceof _SmolAmeba__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) {\r\n                                if (this.falling) {\r\n                                    foundAI[0].delete();\r\n                                    this._gv.smolAmebaCount--;\r\n                                    return true;\r\n                                }\r\n                                else {\r\n                                    return false;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                fieldBeneath = foundStatic[0];\r\n            }\r\n            if (fieldBeneath != undefined) {\r\n                if (this.falling &&\r\n                    this instanceof Boulder && fieldBeneath instanceof _Firefly__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ||\r\n                    this instanceof Boulder && fieldBeneath instanceof _Butterfly__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n                    console.log(\"firefly found\");\r\n                    fieldBeneath.crush();\r\n                }\r\n                return fieldBeneath.entityPassable;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Checks if empty space below or stacked on another boulder\r\n     * @returns table of directions: left | right\r\n     */\r\n    Boulder.prototype.canRollDown = function () {\r\n        var _this = this;\r\n        var directions = [];\r\n        var objectBeneath = this._gv.allDynamic.filter(function (el) {\r\n            return el.absX == _this.absX &&\r\n                el.absY == _this.absY + 1 &&\r\n                (el.constructor.name == \"Boulder\" ||\r\n                    el.constructor.name == \"Diamond\");\r\n        });\r\n        if (objectBeneath.length > 0) {\r\n            if (this.absY < this._gv.levelHeight - 1) {\r\n                // Try to fall left\r\n                var fieldLeft = this._gv.currLevel[this.absY][this.absX - 1];\r\n                if (fieldLeft == 0 || fieldLeft == 9) {\r\n                    var fieldDownLeft = this._gv.currLevel[this.absY + 1][this.absX - 1];\r\n                    if (fieldDownLeft == 0 || fieldDownLeft == 9) {\r\n                        directions.push(\"left\");\r\n                    }\r\n                }\r\n                // Can't fall left, check right\r\n                if (directions.length == 0) {\r\n                    var fieldRight = this._gv.currLevel[this.absY][this.absX + 1];\r\n                    if (fieldRight == 0 || fieldRight == 9) {\r\n                        var fieldRightDown = this._gv.currLevel[this.absY + 1][this.absX + 1];\r\n                        if (fieldRightDown == 0 || fieldRightDown == 9) {\r\n                            directions.push(\"right\");\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return directions;\r\n    };\r\n    /**\r\n     * Rolls down the side whenever able to\r\n     */\r\n    Boulder.prototype.rollDown = function () {\r\n        var directions = this.canRollDown();\r\n        if (directions.length > 0) {\r\n            // console.log(\"Rolling down\", directions[0]);\r\n            switch (directions[0]) {\r\n                case \"left\":\r\n                    if (this._gv.currLevel[this.absY][this.absX - 1] == 9) {\r\n                        if (this instanceof _Diamond__WEBPACK_IMPORTED_MODULE_2__[\"default\"] && this.constructor.name == \"Diamond\") {\r\n                            this.collect();\r\n                        }\r\n                        else {\r\n                            _Player__WEBPACK_IMPORTED_MODULE_0__[\"default\"].die(this._gv, \"crushed\");\r\n                        }\r\n                    }\r\n                    // Move relatively\r\n                    this.relX -= this._gv.fieldSize;\r\n                    // Move absolutely\r\n                    this._gv.currLevel[this.absY][this.absX] = 0;\r\n                    this._gv.currLevel[this.absY][this.absX - 1] = 4;\r\n                    this.absX--;\r\n                    break;\r\n                case \"right\":\r\n                    if (this._gv.currLevel[this.absY][this.absX + 1] == 9) {\r\n                        if (this instanceof _Diamond__WEBPACK_IMPORTED_MODULE_2__[\"default\"] && this.constructor.name == \"Diamond\") {\r\n                            this.collect();\r\n                        }\r\n                        else {\r\n                            _Player__WEBPACK_IMPORTED_MODULE_0__[\"default\"].die(this._gv, \"crushed\");\r\n                        }\r\n                    }\r\n                    // Move relatively\r\n                    this.relX += this._gv.fieldSize;\r\n                    // Move absolutely\r\n                    this._gv.currLevel[this.absY][this.absX] = 0;\r\n                    this._gv.currLevel[this.absY][this.absX + 1] = 4;\r\n                    this.absX++;\r\n                    break;\r\n            }\r\n            this.falling = true;\r\n        }\r\n        else {\r\n            this.falling = false;\r\n        }\r\n    };\r\n    /**\r\n     * Boulder pushed by a player\r\n     * @param side left | right\r\n     */\r\n    Boulder.prototype.moveByPlayer = function (side) {\r\n        // TODO can be moved to the side just once\r\n        if (!this.falling) {\r\n            switch (side) {\r\n                case \"left\":\r\n                    if (this._gv.currLevel[this.absY][this.absX - 1] == 0) {\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY][this.absX - 1] = 4;\r\n                        this.absX--;\r\n                        this.relX -= this._gv.fieldSize;\r\n                    }\r\n                    break;\r\n                case \"right\":\r\n                    if (this._gv.currLevel[this.absY][this.absX + 1] == 0) {\r\n                        this._gv.currLevel[this.absY][this.absX] = 0;\r\n                        this._gv.currLevel[this.absY][this.absX + 1] = 4;\r\n                        this.absX++;\r\n                        this.relX += this._gv.fieldSize;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Method for the sake of Typescript, shouldn't ever be called\r\n     */\r\n    // collect() {\r\n    // \talert(\"Boulder is not collectable lol\");\r\n    // }\r\n    /**\r\n     * Destroys boulder (e.g. if exploded)\r\n     */\r\n    Boulder.prototype.destroy = function () {\r\n        clearInterval(this.gravityInterval);\r\n        this._gv.currLevel[this.absY][this.absX] = 0;\r\n        var index = this._gv.allDynamic.indexOf(this);\r\n        this._gv.allDynamic.splice(index, 1);\r\n    };\r\n    Boulder.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return Boulder;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Boulder);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Boulder.ts?");

/***/ }),

/***/ "./src/entities/Butterfly.ts":
/*!***********************************!*\
  !*** ./src/entities/Butterfly.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Firefly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Firefly */ \"./src/entities/Firefly.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Butterfly = /** @class */ (function (_super) {\r\n    __extends(Butterfly, _super);\r\n    function Butterfly(gv, x, y) {\r\n        var _this = _super.call(this, gv, x, y) || this;\r\n        _this.playerPassable = true;\r\n        _this.color = \"blue\";\r\n        console.log(\"Butterfly created!\");\r\n        return _this;\r\n    }\r\n    return Butterfly;\r\n}(_Firefly__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Butterfly);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Butterfly.ts?");

/***/ }),

/***/ "./src/entities/Diamond.ts":
/*!*********************************!*\
  !*** ./src/entities/Diamond.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Boulder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Boulder */ \"./src/entities/Boulder.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Diamond = /** @class */ (function (_super) {\r\n    __extends(Diamond, _super);\r\n    function Diamond(gv, x, y) {\r\n        var _this = _super.call(this, gv, x, y) || this;\r\n        _this.playerPassable = true;\r\n        _this.color = \"green\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Collects this diamond\r\n     */\r\n    Diamond.prototype.collect = function () {\r\n        // console.log(\"I am being collected\");\r\n        var index = this._gv.allDynamic.indexOf(this);\r\n        this._gv.allDynamic.splice(index, 1);\r\n        if (index != -1) {\r\n            this._gv.score += this._gv.pointsPerDiamondCollected;\r\n            this._gv.scoreDiv.innerText = \"\" + this._gv.score;\r\n            this._gv.diamondsCollected[this._gv.currLevelNumber]++;\r\n            this.checkForOpenEntrance();\r\n        }\r\n    };\r\n    Diamond.prototype.checkForOpenEntrance = function () {\r\n        if (this._gv.diamondsCollected[this._gv.currLevelNumber] >= this._gv.diamondsToCollectNumber[this._gv.currLevelNumber]) {\r\n            this._gv.exitOpen = true;\r\n        }\r\n    };\r\n    return Diamond;\r\n}(_Boulder__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Diamond);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Diamond.ts?");

/***/ }),

/***/ "./src/entities/Dirt.ts":
/*!******************************!*\
  !*** ./src/entities/Dirt.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n\r\n// Example object on the canvas, not the part of final project\r\nvar Dirt = /** @class */ (function () {\r\n    function Dirt(gv, x, y) {\r\n        this.color = \"brown\";\r\n        this.deleted = false;\r\n        this.playerPassable = true;\r\n        this.entityPassable = false;\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        this.getImage();\r\n        if (!this.deleted) {\r\n            this.draw(this.relX, this.relY);\r\n        }\r\n    }\r\n    Dirt.prototype.delete = function () {\r\n        var index = this._gv.allElements.indexOf(this);\r\n        this._gv.allElements.splice(index, 1);\r\n    };\r\n    Dirt.prototype.getImage = function () {\r\n        this.imageToDraw = _Images__WEBPACK_IMPORTED_MODULE_0__[\"default\"].filter(function (el) { return el.name == \"dirt\"; })[0].image;\r\n    };\r\n    Dirt.prototype.draw = function (relX, relY) {\r\n        this._gv.ctx.drawImage(this.imageToDraw, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n    };\r\n    Dirt.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return Dirt;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dirt);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Dirt.ts?");

/***/ }),

/***/ "./src/entities/Entrance.ts":
/*!**********************************!*\
  !*** ./src/entities/Entrance.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Ameba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ameba */ \"./src/entities/Ameba.ts\");\n/* harmony import */ var _BorderWall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BorderWall */ \"./src/entities/BorderWall.ts\");\n/* harmony import */ var _Butterfly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Butterfly */ \"./src/entities/Butterfly.ts\");\n/* harmony import */ var _Firefly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Firefly */ \"./src/entities/Firefly.ts\");\n/* harmony import */ var _levels_Levels__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../levels/Levels */ \"./src/levels/Levels.ts\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Player */ \"./src/Player.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Example object on the canvas, not the part of final project\r\nvar Entrance = /** @class */ (function (_super) {\r\n    __extends(Entrance, _super);\r\n    function Entrance(gv, board, x, y, mode) {\r\n        var _this = _super.call(this, gv, x, y) || this;\r\n        _this.color = \"magenta\";\r\n        _this.playerPassable = true;\r\n        _this._board = board;\r\n        _this.mode = mode;\r\n        console.log(\"Entrance created, mode: \", _this.mode);\r\n        return _this;\r\n    }\r\n    Entrance.prototype.exit = function () {\r\n        if (this.mode == \"exit\") {\r\n            if (this._gv.exitOpen) {\r\n                this.endLevel();\r\n            }\r\n            else {\r\n                console.log(\"Not yet open!\");\r\n            }\r\n        }\r\n    };\r\n    Entrance.prototype.endLevel = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log(\"Ending level\");\r\n                        // Disable player movement\r\n                        this._gv.playerCanMove = false;\r\n                        this.stopAllEntities();\r\n                        return [4 /*yield*/, this.timeLeftToPoints()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.nextLevel();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Entrance.prototype.stopAllEntities = function () {\r\n        // Disable rock gravity\r\n        var rocksAndDiamonds = this._gv.allDynamic.filter(function (el) {\r\n            return el.constructor.name == \"Boulder\" ||\r\n                el.constructor.name == \"Diamond\";\r\n        });\r\n        if (rocksAndDiamonds.length > 0) {\r\n            for (var i = 0; i < rocksAndDiamonds.length; i++) {\r\n                clearInterval(rocksAndDiamonds[i].gravityInterval);\r\n            }\r\n        }\r\n        // Disable Ai movement\r\n        var fireAndButter = this._gv.allAI.filter(function (el) {\r\n            return el.constructor.name == \"Firefly\" ||\r\n                el.constructor.name == \"Butterfly\";\r\n        });\r\n        console.log(fireAndButter);\r\n        if (fireAndButter.length > 0) {\r\n            for (var i = 0; i < fireAndButter.length; i++) {\r\n                var item = fireAndButter[i];\r\n                if (item instanceof _Butterfly__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ||\r\n                    item instanceof _Firefly__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\r\n                    clearInterval(item.movementInterval);\r\n                }\r\n            }\r\n        }\r\n        // Disable ameba growth\r\n        var ameba = this._gv.allAI.filter(function (el) {\r\n            return el.constructor.name == \"Ameba\";\r\n        });\r\n        if (ameba.length > 0) {\r\n            if (ameba[0] instanceof _Ameba__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                clearInterval(ameba[0].expandInterval);\r\n            }\r\n        }\r\n    };\r\n    Entrance.prototype.timeLeftToPoints = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeLeftStart, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        clearInterval(this._board.timerUpdateInterval);\r\n                        timeLeftStart = this._gv.timeLeft;\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < timeLeftStart)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this.sleep(25)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this._gv.timeLeft -= 1;\r\n                        this._gv.timeLeftDiv.innerText = \"\" + this._gv.timeLeft;\r\n                        this._gv.score += this._gv.pointsPerSecondSaved;\r\n                        this._gv.scoreDiv.innerText = \"\" + this._gv.score;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [4 /*yield*/, this.sleep(2000)];\r\n                    case 5:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Entrance.prototype.nextLevel = function () {\r\n        this._gv.currLevelNumber += 1;\r\n        if (this._gv.currLevelNumber < _levels_Levels__WEBPACK_IMPORTED_MODULE_4__[\"default\"].length) {\r\n            this.resetVariables();\r\n            this._board.setLevel(this._gv.currLevelNumber);\r\n            this._board.checkWalls();\r\n            this._board.getPartOfScene();\r\n            this._board.displayScene();\r\n            this._board.generateBoulders();\r\n            this._gv.newLevel = true;\r\n            this._board.startGame();\r\n        }\r\n        else {\r\n            // alert(\"No more levels\");\r\n            _Player__WEBPACK_IMPORTED_MODULE_5__[\"default\"].win(this._gv);\r\n        }\r\n    };\r\n    Entrance.prototype.resetVariables = function () {\r\n        this._gv.allElements = [];\r\n        this._gv.allDynamic = [];\r\n        this._gv.allAI = [];\r\n        this._gv.displayX = 0;\r\n        this._gv.displayY = 0;\r\n        this._gv.entrance = undefined;\r\n        this._gv.exit = undefined;\r\n        this._gv.newLevel = true;\r\n        this._gv.exitOpen = false;\r\n        this._gv.timeLeft = this._gv.timePerLevel;\r\n        this._gv.timeLeftDiv.innerText = \"\" + this._gv.timeLeft;\r\n        // this._gv.diamondsCollected = 0;\r\n        this._gv.diamondsCollectedDiv.innerText = \"\" + this._gv.diamondsCollected[this._gv.currLevelNumber];\r\n        this._gv.startGameEntranceFlicker = true;\r\n        this._gv.startGamePlayerShown = false;\r\n    };\r\n    Entrance.prototype.sleep = function (ms) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n    };\r\n    Entrance.prototype.mandatoryMove = function (direction) {\r\n        switch (direction) {\r\n            case \"top\":\r\n                this.relY += this._gv.fieldSize;\r\n                break;\r\n            case \"bottom\":\r\n                this.relY -= this._gv.fieldSize;\r\n                break;\r\n            case \"left\":\r\n                this.relX += this._gv.fieldSize;\r\n                break;\r\n            case \"right\":\r\n                this.relX -= this._gv.fieldSize;\r\n                break;\r\n        }\r\n    };\r\n    return Entrance;\r\n}(_BorderWall__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Entrance);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Entrance.ts?");

/***/ }),

/***/ "./src/entities/Firefly.ts":
/*!*********************************!*\
  !*** ./src/entities/Firefly.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Dirt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dirt */ \"./src/entities/Dirt.ts\");\n/* harmony import */ var _Diamond__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Diamond */ \"./src/entities/Diamond.ts\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Player */ \"./src/Player.ts\");\n/* harmony import */ var _Butterfly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Butterfly */ \"./src/entities/Butterfly.ts\");\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n\r\n\r\n\r\n\r\n\r\nvar Firefly = /** @class */ (function () {\r\n    function Firefly(gv, x, y) {\r\n        this.color = \"orange\";\r\n        this.playerPassable = true;\r\n        this.entityPassable = false;\r\n        this.isTurning = false;\r\n        this.fireflyPhase1sx = [0, 24, 48, 72, 96, 120, 144, 168];\r\n        this.butterflyPhase1sx = [0, 24, 48, 72, 96, 120, 144, 168];\r\n        console.log(\"Firefly created!\");\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        this.getImage();\r\n        // TODOEXTRA Fireflies overlap each other\r\n    }\r\n    /**\r\n     * Sets the movement interval\r\n     */\r\n    Firefly.prototype.startMoving = function () {\r\n        var _this = this;\r\n        this.getStartFacing();\r\n        this.movementInterval = setInterval(function () {\r\n            // console.log(\"Moving firefly\");\r\n            _this.jump();\r\n        }, this._gv.gravityIntervalTime * 2);\r\n    };\r\n    /**\r\n     * Gets the direction the Firefly is facing\r\n     * @returns top | bottom | left | right\r\n     */\r\n    Firefly.prototype.getStartFacing = function () {\r\n        var facing = \"\";\r\n        if (this._gv.currLevel[this.absY - 1][this.absX] != 0) {\r\n            facing = \"right\";\r\n        }\r\n        else if (this._gv.currLevel[this.absY][this.absX - 1] != 0) {\r\n            facing = \"top\";\r\n        }\r\n        else if (this._gv.currLevel[this.absY + 1][this.absX] != 0) {\r\n            facing = \"left\";\r\n        }\r\n        else if (this._gv.currLevel[this.absY][this.absX + 1] != 0) {\r\n            facing = \"bottom\";\r\n        }\r\n        // console.log(facing);\r\n        this.facing = facing;\r\n    };\r\n    /**\r\n     * Main move decision function\r\n     */\r\n    Firefly.prototype.jump = function () {\r\n        // console.log(this.facing);\r\n        // console.log(this.canGoForwards());\r\n        if (!this.isTurning) {\r\n            if (!this.isOnCorner()) {\r\n                if (this.canGoForwards()) {\r\n                    this.move();\r\n                }\r\n                else {\r\n                    this.rotate();\r\n                }\r\n            }\r\n            else {\r\n                this.turn();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Check if is going to slam the forehead against a wall\r\n     * @returns if can go forwards\r\n     */\r\n    Firefly.prototype.canGoForwards = function () {\r\n        var canGoForwards = false;\r\n        switch (this.facing) {\r\n            case \"top\":\r\n                var fieldTop = this._gv.currLevel[this.absY - 1][this.absX];\r\n                fieldTop == 0 || fieldTop == 6 ? canGoForwards = true : 0;\r\n                if (this.absX == this._gv.playerX && this.absY - 1 == this._gv.playerY) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                break;\r\n            case \"bottom\":\r\n                var fieldBottom = this._gv.currLevel[this.absY + 1][this.absX];\r\n                fieldBottom == 0 || fieldBottom == 6 ? canGoForwards = true : 0;\r\n                if (this.absX == this._gv.playerX && this.absY + 1 == this._gv.playerY) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                break;\r\n            case \"left\":\r\n                var fieldLeft = this._gv.currLevel[this.absY][this.absX - 1];\r\n                fieldLeft == 0 || fieldLeft == 6 ? canGoForwards = true : 0;\r\n                if (this.absX - 1 == this._gv.playerX && this.absY == this._gv.playerY) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                break;\r\n            case \"right\":\r\n                var fieldRight = this._gv.currLevel[this.absY][this.absX + 1];\r\n                fieldRight == 0 || fieldRight == 6 ? canGoForwards = true : 0;\r\n                if (this.absX + 1 == this._gv.playerX && this.absY == this._gv.playerY) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                break;\r\n        }\r\n        return canGoForwards;\r\n    };\r\n    /**\r\n     * Move forwards one tile\r\n     */\r\n    Firefly.prototype.move = function () {\r\n        switch (this.facing) {\r\n            case \"top\":\r\n                if (this._gv.currLevel[this.absY - 1][this.absX] == 9) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                this.relY -= this._gv.fieldSize;\r\n                this._gv.currLevel[this.absY][this.absX] = 0;\r\n                this._gv.currLevel[this.absY - 1][this.absX] = 6;\r\n                this.absY--;\r\n                break;\r\n            case \"bottom\":\r\n                if (this._gv.currLevel[this.absY + 1][this.absX] == 9) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                this.relY += this._gv.fieldSize;\r\n                this._gv.currLevel[this.absY][this.absX] = 0;\r\n                this._gv.currLevel[this.absY + 1][this.absX] = 6;\r\n                this.absY++;\r\n                break;\r\n            case \"left\":\r\n                if (this._gv.currLevel[this.absY][this.absX - 1] == 9) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                this.relX -= this._gv.fieldSize;\r\n                this._gv.currLevel[this.absY][this.absX] = 0;\r\n                this._gv.currLevel[this.absY][this.absX - 1] = 6;\r\n                this.absX--;\r\n                break;\r\n            case \"right\":\r\n                if (this._gv.currLevel[this.absY][this.absX + 1] == 9) {\r\n                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this._gv, \"fireflied\");\r\n                }\r\n                this.relX += this._gv.fieldSize;\r\n                this._gv.currLevel[this.absY][this.absX] = 0;\r\n                this._gv.currLevel[this.absY][this.absX + 1] = 6;\r\n                this.absX++;\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Change movement direction if slammed forehead into a wall\r\n     */\r\n    Firefly.prototype.rotate = function () {\r\n        // console.log(`Rotating: ${this.facing}`);\r\n        switch (this.facing) {\r\n            case \"top\": // From top to right\r\n                this.facing = \"right\";\r\n                break;\r\n            case \"bottom\": // From bottom to left\r\n                this.facing = \"left\";\r\n                break;\r\n            case \"left\": // From left to top\r\n                this.facing = \"top\";\r\n                break;\r\n            case \"right\": // From right to bottom\r\n                this.facing = \"bottom\";\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Perform a rotation for a turn - opposite of normal rotate\r\n     */\r\n    Firefly.prototype.turnRotate = function () {\r\n        // console.log(`Rotating: ${this.facing}`);\r\n        switch (this.facing) {\r\n            case \"top\": // From top to right\r\n                this.facing = \"left\";\r\n                break;\r\n            case \"bottom\": // From bottom to left\r\n                this.facing = \"right\";\r\n                break;\r\n            case \"left\": // From left to top\r\n                this.facing = \"bottom\";\r\n                break;\r\n            case \"right\": // From right to bottom\r\n                this.facing = \"top\";\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if is about to turn the corner\r\n     * @returns if the corner is incoming\r\n     */\r\n    Firefly.prototype.isOnCorner = function () {\r\n        // console.log(\"is on corner\");\r\n        var goingToTurn = false;\r\n        // If field diagonally is empty\r\n        switch (this.facing) {\r\n            case \"top\":\r\n                var fieldTop = this._gv.currLevel[this.absY - 1][this.absX - 1];\r\n                this.canGoForwards() && fieldTop == 0 ? goingToTurn = true : 0;\r\n                break;\r\n            case \"bottom\":\r\n                var fieldBot = this._gv.currLevel[this.absY + 1][this.absX + 1];\r\n                this.canGoForwards() && fieldBot == 0 ? goingToTurn = true : 0;\r\n                break;\r\n            case \"left\":\r\n                var fieldLeft = this._gv.currLevel[this.absY + 1][this.absX - 1];\r\n                this.canGoForwards() && fieldLeft == 0 ? goingToTurn = true : 0;\r\n                break;\r\n            case \"right\":\r\n                var fieldRight = this._gv.currLevel[this.absY - 1][this.absX + 1];\r\n                this.canGoForwards() && fieldRight == 0 ? goingToTurn = true : 0;\r\n                break;\r\n        }\r\n        // console.log(\"is on corner: \", goingToTurn);\r\n        return goingToTurn;\r\n    };\r\n    /**\r\n     * Perform a turn\r\n     */\r\n    Firefly.prototype.turn = function () {\r\n        var _this = this;\r\n        // console.log(\"You spin me right round\");\r\n        this.isTurning = true;\r\n        this.move();\r\n        setTimeout(function () {\r\n            _this.turnRotate();\r\n            // this.move();\r\n            _this.isTurning = false;\r\n        }, this._gv.gravityIntervalTime);\r\n    };\r\n    /**\r\n     * Movement based on board shifting\r\n     * @param direction top | bottom | left | right\r\n     */\r\n    Firefly.prototype.mandatoryMove = function (direction) {\r\n        // console.log(\"Moving me: \", direction);\r\n        switch (direction) {\r\n            case \"top\":\r\n                this.relY += this._gv.fieldSize;\r\n                break;\r\n            case \"bottom\":\r\n                this.relY -= this._gv.fieldSize;\r\n                break;\r\n            case \"left\":\r\n                this.relX += this._gv.fieldSize;\r\n                break;\r\n            case \"right\":\r\n                this.relX -= this._gv.fieldSize;\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Crushed the firefly and creates the explosion\r\n     */\r\n    Firefly.prototype.crush = function () {\r\n        console.log(\"Firefly crushed\");\r\n        clearInterval(this.movementInterval);\r\n        var _loop_1 = function (y) {\r\n            var _loop_2 = function (x) {\r\n                var field = this_1._gv.currLevel[y][x];\r\n                // console.log(field);\r\n                if (field != 1) {\r\n                    var foundStatic = this_1._gv.allElements.filter(function (el) {\r\n                        return el.absX == x && el.absY == y;\r\n                    });\r\n                    if (foundStatic.length > 0) {\r\n                        // Destroy it\r\n                        if (foundStatic[0] instanceof _Dirt__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                            foundStatic[0].delete();\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Search dynamic \r\n                        var foundDynamic = this_1._gv.allDynamic.filter(function (el) {\r\n                            return el.absX == x && el.absY == y;\r\n                        });\r\n                        if (foundDynamic.length > 0) {\r\n                            // Destroy dynamic \r\n                            foundDynamic[0].destroy();\r\n                        }\r\n                        else {\r\n                            // Search AI\r\n                            var foundAI = this_1._gv.allAI.filter(function (el) {\r\n                                return el.absX == x && el.absY == y;\r\n                            });\r\n                            if (foundAI.length > 0 && foundAI[0].absX != this_1.absX && foundAI[0].absY != this_1.absY) {\r\n                                if (\r\n                                // foundAI[0] != this &&\r\n                                (foundAI[0] instanceof Firefly || foundAI[0] instanceof _Butterfly__WEBPACK_IMPORTED_MODULE_3__[\"default\"])) {\r\n                                    // Blast another AI\r\n                                    console.log(\"Blasting\");\r\n                                    foundAI[0].crush();\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (this_1._gv.playerX == x && this_1._gv.playerY == y) {\r\n                                    _Player__WEBPACK_IMPORTED_MODULE_2__[\"default\"].die(this_1._gv, \"exploded\");\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    this_1._gv.currLevel[y][x] = 0;\r\n                }\r\n            };\r\n            for (var x = this_1.absX - 1; x <= this_1.absX + 1; x++) {\r\n                _loop_2(x);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var y = this.absY - 1; y <= this.absY + 1; y++) {\r\n            _loop_1(y);\r\n        }\r\n        if (this.constructor.name == \"Butterfly\") {\r\n            this.createDiamonds();\r\n        }\r\n        var index = this._gv.allAI.indexOf(this);\r\n        this._gv.allAI.splice(index, 1);\r\n    };\r\n    Firefly.prototype.createDiamonds = function () {\r\n        console.log(\"Creating diamonds\");\r\n        for (var y = this.absY - 1; y <= this.absY + 1; y++) {\r\n            for (var x = this.absX - 1; x <= this.absX + 1; x++) {\r\n                // console.log(y, x);\r\n                this._gv.currLevel[y][x] = 5;\r\n                this._gv.allDynamic.push(new _Diamond__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this._gv, x, y));\r\n            }\r\n        }\r\n        // console.table(this._gv.currLevel)\r\n    };\r\n    Firefly.prototype.getImage = function () {\r\n        this.imageFirefly = _Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (el) { return el.name == \"firefly\"; })[0].image;\r\n        this.imageButterfly = _Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (el) { return el.name == \"butterfly\"; })[0].image;\r\n    };\r\n    Firefly.prototype.draw = function (relX, relY) {\r\n        if (this.constructor.name == \"Firefly\") {\r\n            this._gv.ctx.drawImage(this.imageFirefly, this.fireflyPhase1sx[this._gv.fireflyPhase], 0, 16, 16, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n        else {\r\n            this._gv.ctx.drawImage(this.imageButterfly, this.butterflyPhase1sx[this._gv.butterflyPhase], 0, 16, 16, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n    };\r\n    Firefly.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return Firefly;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Firefly);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Firefly.ts?");

/***/ }),

/***/ "./src/entities/Images.ts":
/*!********************************!*\
  !*** ./src/entities/Images.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar Images = [\r\n    {\r\n        name: \"borderWall\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/borderWall.gif\"\r\n    },\r\n    {\r\n        name: \"innerWall\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/innerWall.gif\"\r\n    },\r\n    {\r\n        name: \"dirt\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/dirt.gif\"\r\n    },\r\n    {\r\n        name: \"boulder\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/boulder.gif\"\r\n    },\r\n    {\r\n        name: \"diamond\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/diamond.gif\"\r\n    },\r\n    {\r\n        name: \"firefly\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/firefly.gif\"\r\n    },\r\n    {\r\n        name: \"butterfly\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/butterfly.gif\"\r\n    },\r\n    {\r\n        name: \"ameba\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/ameba.gif\"\r\n    },\r\n    {\r\n        name: \"door\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/door2.gif\"\r\n    },\r\n    {\r\n        name: \"rockford\",\r\n        image: new Image(),\r\n        url: \"../../assets/graphics/rockford.gif\"\r\n    },\r\n];\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Images);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/Images.ts?");

/***/ }),

/***/ "./src/entities/InnerWall.ts":
/*!***********************************!*\
  !*** ./src/entities/InnerWall.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n\r\n// Example object on the canvas, not the part of final project\r\nvar InnerWall = /** @class */ (function () {\r\n    function InnerWall(gv, x, y) {\r\n        this.color = \"gray\";\r\n        this.playerPassable = false;\r\n        this.entityPassable = false;\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = this.absX * this._gv.fieldSize;\r\n        this.relY = this.absY * this._gv.fieldSize;\r\n        this.getImage();\r\n        this.draw(this.relX, this.relY);\r\n    }\r\n    InnerWall.prototype.getImage = function () {\r\n        this.imageToDraw = _Images__WEBPACK_IMPORTED_MODULE_0__[\"default\"].filter(function (el) { return el.name == \"innerWall\"; })[0].image;\r\n    };\r\n    InnerWall.prototype.draw = function (relX, relY) {\r\n        this._gv.ctx.drawImage(this.imageToDraw, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n    };\r\n    InnerWall.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return InnerWall;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InnerWall);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/InnerWall.ts?");

/***/ }),

/***/ "./src/entities/SmolAmeba.ts":
/*!***********************************!*\
  !*** ./src/entities/SmolAmeba.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Dirt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dirt */ \"./src/entities/Dirt.ts\");\n/* harmony import */ var _Images__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Images */ \"./src/entities/Images.ts\");\n\r\n\r\nvar SmolAmeba = /** @class */ (function () {\r\n    function SmolAmeba(gv, x, y) {\r\n        this.color = \"cyan\";\r\n        this.canExpand = true;\r\n        this.show = false;\r\n        this.amebaPhase1sx = [0, 24, 48, 72, 96, 120, 144, 168];\r\n        this._gv = gv;\r\n        this.absX = x;\r\n        this.absY = y;\r\n        this.relX = (this.absX - this._gv.displayX) * this._gv.fieldSize;\r\n        this.relY = (this.absY - this._gv.displayY) * this._gv.fieldSize;\r\n        this.getImage();\r\n        this.showAfter(Math.random() * 2000);\r\n    }\r\n    SmolAmeba.prototype.showAfter = function (time) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.show = !_this.show;\r\n        }, time);\r\n    };\r\n    /**\r\n      * Movement based on board shifting\r\n      * @param direction top | bottom | left | right\r\n      */\r\n    SmolAmeba.prototype.mandatoryMove = function (direction) {\r\n        switch (direction) {\r\n            case \"top\":\r\n                this.relY += this._gv.fieldSize;\r\n                break;\r\n            case \"bottom\":\r\n                this.relY -= this._gv.fieldSize;\r\n                break;\r\n            case \"left\":\r\n                this.relX += this._gv.fieldSize;\r\n                break;\r\n            case \"right\":\r\n                this.relX -= this._gv.fieldSize;\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Gets  directions small ameba can expand into and deletes disturbing dirt\r\n     * @returns top | bottom | left | right\r\n     */\r\n    SmolAmeba.prototype.canExpandInto = function () {\r\n        var _this = this;\r\n        var directions = [];\r\n        // Top\r\n        var topField = this._gv.currLevel[this.absY - 1][this.absX];\r\n        if (topField == 0 || topField == 3) { // Empty field or dirt\r\n            if (topField == 3) {\r\n                var dirtToDelete = this._gv.allElements.filter(function (el) {\r\n                    return el.absX == _this.absX && el.absY == _this.absY - 1;\r\n                });\r\n                if (dirtToDelete.length > 0 && dirtToDelete[0] instanceof _Dirt__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                    // console.log(\"deleting dirt\");\r\n                    dirtToDelete[0].delete();\r\n                }\r\n            }\r\n            directions.push(\"top\");\r\n        }\r\n        // Bottom\r\n        var bottomField = this._gv.currLevel[this.absY + 1][this.absX];\r\n        if (bottomField == 0 || bottomField == 3) {\r\n            if (bottomField == 3) {\r\n                var dirtToDelete = this._gv.allElements.filter(function (el) {\r\n                    return el.absX == _this.absX && el.absY == _this.absY + 1;\r\n                });\r\n                if (dirtToDelete.length > 0 && dirtToDelete[0] instanceof _Dirt__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                    // console.log(\"deleting dirt\");\r\n                    dirtToDelete[0].delete();\r\n                }\r\n            }\r\n            directions.push(\"bottom\");\r\n        }\r\n        // Left\r\n        var leftField = this._gv.currLevel[this.absY][this.absX - 1];\r\n        if (leftField == 0 || leftField == 3) {\r\n            if (leftField == 3) {\r\n                var dirtToDelete = this._gv.allElements.filter(function (el) {\r\n                    return el.absX == _this.absX - 1 && el.absY == _this.absY;\r\n                });\r\n                if (dirtToDelete.length > 0 && dirtToDelete[0] instanceof _Dirt__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                    // console.log(\"deleting dirt\");\r\n                    dirtToDelete[0].delete();\r\n                }\r\n            }\r\n            directions.push(\"left\");\r\n        }\r\n        // Right\r\n        var rightField = this._gv.currLevel[this.absY][this.absX + 1];\r\n        if (rightField == 0 || rightField == 3) {\r\n            if (rightField == 3) {\r\n                var dirtToDelete = this._gv.allElements.filter(function (el) {\r\n                    return el.absX == _this.absX + 1 && el.absY == _this.absY;\r\n                });\r\n                if (dirtToDelete.length > 0 && dirtToDelete[0] instanceof _Dirt__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n                    // console.log(\"deleting dirt\");\r\n                    dirtToDelete[0].delete();\r\n                }\r\n            }\r\n            directions.push(\"right\");\r\n        }\r\n        directions.length > 0 ? this.canExpand = true : this.canExpand = false;\r\n        return directions;\r\n    };\r\n    /**\r\n     * Remove smol ameba when crushed by a rock\r\n     */\r\n    SmolAmeba.prototype.delete = function () {\r\n        var index = this._gv.allAI.indexOf(this);\r\n        this._gv.allAI.splice(index, 1);\r\n    };\r\n    SmolAmeba.prototype.getImage = function () {\r\n        this.imageAmeba = _Images__WEBPACK_IMPORTED_MODULE_1__[\"default\"].filter(function (el) { return el.name == \"ameba\"; })[0].image;\r\n    };\r\n    SmolAmeba.prototype.draw = function (relX, relY) {\r\n        if (this.show) {\r\n            this._gv.ctx.drawImage(this.imageAmeba, this.amebaPhase1sx[this._gv.amebaPhase], 0, 16, 16, relX, relY, this._gv.fieldSize, this._gv.fieldSize);\r\n        }\r\n    };\r\n    SmolAmeba.prototype.update = function () {\r\n        this.draw(this.relX, this.relY);\r\n    };\r\n    return SmolAmeba;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SmolAmeba);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/entities/SmolAmeba.ts?");

/***/ }),

/***/ "./src/levels/Levels.ts":
/*!******************************!*\
  !*** ./src/levels/Levels.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Static fields\r\n// 0 - Empty field\r\n// 1 - Border wall\r\n// 2 - Inner wall\r\n// 3 - Dirt\r\n// Dynamic entities\r\n// 4 - Boulder\r\n// 5 - Diamond\r\n// 6 - Firefly\r\n// 7 - Butterfly\r\n// 8 - Ameba\r\n// 9 - Player\r\n// Height: 40 \r\n// Width: 22\r\nvar levels = [\r\n    // Starting level\r\n    [\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 5, 3, 3, 3, 3, 3, 5, 4, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 3, 5, 1],\r\n        [1, 3, 0, 9, 3, 3, 3, 4, 3, 3, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 3, 3, 3, 3, 0, 3, 3, 5, 3, 0, 3, 3, 3, 4, 4, 5, 3, 3, 4, 1],\r\n        [1, 3, 3, 0, 3, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 0, 3, 3, 0, 3, 3, 5, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 4, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 1],\r\n        [1, 3, 4, 3, 3, 3, 5, 3, 3, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 4, 3, 3, 5, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 3, 3, 3, 3, 4, 3, 4, 4, 1],\r\n        [1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 5, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 4, 3, 3, 3, 3, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 5, 3, 4, 3, 3, 4, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 4, 3, 3, 3, 3, 4, 3, 3, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 1],\r\n        [1, 3, 3, 4, 3, 3, 3, 0, 4, 3, 3, 3, 4, 3, 3, 3, 3, 4, 3, 3, 5, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 1],\r\n        [1, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 0, 3, 3, 4, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 3, 3, 3, 0, 1],\r\n        [1, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 3, 3, 4, 3, 4, 5, 3, 3, 5, 3, 3, 1],\r\n        [1, 4, 3, 3, 3, 4, 3, 3, 5, 3, 4, 3, 3, 4, 3, 0, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 5, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1],\r\n        [1, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 3, 4, 3, 0, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 5, 3, 3, 3, 3, 4, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 4, 3, 0, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 10, 1],\r\n        [1, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 4, 3, 0, 0, 3, 3, 1],\r\n        [1, 5, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 5, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 4, 1],\r\n        [1, 5, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 4, 3, 0, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 1],\r\n        [1, 5, 3, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 3, 5, 5, 5, 3, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 3, 4, 1],\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ],\r\n    // Butterfly level\r\n    [\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n        [1, 9, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 1],\r\n        [1, 3, 3, 4, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 4, 3, 3, 3, 3, 3, 3, 3, 0, 7, 3, 3, 3, 3, 3, 3, 0, 7, 3, 3, 3, 3, 3, 3, 0, 7, 3, 3, 3, 3, 3, 3, 0, 7, 3, 3, 3, 3, 1],\r\n        [1, 3, 4, 3, 3, 4, 3, 3, 3, 0, 0, 3, 3, 3, 4, 3, 3, 0, 0, 3, 3, 4, 3, 4, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 4, 3, 3, 3, 3, 4, 3, 3, 1],\r\n        [1, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 4, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 10, 1],\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ],\r\n    // Ameba level\r\n    [\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 0, 0, 3, 4, 3, 0, 0, 3, 3, 3, 0, 3, 4, 3, 4, 3, 0, 3, 3, 3, 0, 0, 0, 3, 3, 0, 3, 4, 3, 3, 3, 3, 1],\r\n        [1, 9, 4, 3, 0, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 3, 3, 0, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 5, 3, 0, 3, 0, 1],\r\n        [1, 3, 3, 3, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 4, 3, 0, 3, 3, 3, 0, 0, 4, 3, 3, 0, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1],\r\n        [1, 0, 3, 0, 5, 3, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 0, 3, 3, 3, 0, 4, 3, 3, 4, 3, 0, 3, 3, 4, 3, 0, 0, 4, 3, 3, 3, 3, 3, 1],\r\n        [1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 0, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 10],\r\n        [1, 3, 3, 3, 0, 3, 3, 4, 3, 0, 3, 3, 3, 0, 3, 3, 4, 3, 0, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 0, 3, 3, 3, 3, 4, 3, 4, 4, 3, 1],\r\n        [1, 3, 3, 3, 0, 3, 3, 4, 3, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 4, 3, 4, 3, 3, 0, 0, 4, 3, 3, 4, 3, 1],\r\n        [1, 0, 0, 3, 3, 0, 0, 3, 3, 4, 3, 0, 3, 3, 4, 3, 0, 3, 3, 3, 3, 0, 3, 3, 0, 3, 3, 4, 3, 4, 6, 3, 3, 3, 3, 3, 3, 0, 3, 1],\r\n        [1, 3, 0, 6, 3, 3, 3, 3, 3, 0, 3, 0, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 4, 3, 3, 4, 3, 0, 3, 0, 4, 3, 3, 0, 1],\r\n        [1, 3, 3, 0, 4, 3, 3, 4, 3, 4, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 4, 3, 3, 4, 3, 3, 3, 5, 0, 3, 3, 3, 1],\r\n        [1, 3, 4, 3, 0, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 3, 0, 4, 4, 4, 3, 0, 3, 3, 3, 0, 0, 0, 3, 3, 0, 3, 6, 3, 3, 3, 0, 4, 3, 1],\r\n        [1, 0, 6, 3, 5, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 3, 3, 4, 3, 0, 4, 3, 3, 4, 3, 0, 3, 0, 4, 3, 3, 0, 4, 3, 3, 4, 3, 0, 3, 1],\r\n        [1, 3, 0, 0, 3, 3, 3, 3, 0, 3, 3, 3, 3, 3, 0, 3, 3, 0, 0, 0, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 0, 3, 0, 1],\r\n        [1, 3, 3, 3, 3, 3, 0, 3, 0, 0, 6, 4, 4, 3, 0, 3, 3, 3, 0, 0, 0, 3, 3, 0, 3, 4, 3, 3, 3, 0, 4, 3, 3, 4, 3, 4, 3, 3, 3, 1],\r\n        [1, 0, 4, 3, 3, 3, 3, 3, 3, 0, 3, 3, 4, 3, 0, 3, 4, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 0, 3, 0, 0, 4, 3, 3, 3, 3, 3, 3, 3, 1],\r\n        [1, 0, 0, 3, 3, 3, 3, 3, 3, 0, 3, 3, 0, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 4, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 1],\r\n        [1, 3, 0, 3, 3, 4, 3, 0, 3, 3, 3, 0, 3, 3, 4, 3, 0, 0, 3, 3, 4, 3, 0, 0, 3, 3, 3, 3, 4, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 1],\r\n        [1, 3, 0, 3, 3, 4, 4, 3, 3, 4, 3, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 0, 3, 3, 3, 1],\r\n        [1, 3, 3, 3, 0, 3, 3, 4, 3, 0, 3, 3, 4, 3, 0, 4, 3, 3, 3, 8, 3, 3, 3, 3, 3, 4, 3, 4, 4, 3, 3, 3, 3, 3, 3, 0, 3, 3, 4, 1],\r\n        [1, 3, 4, 3, 5, 3, 3, 0, 3, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 4, 3, 3, 4, 3, 0, 3, 0, 0, 5, 3, 0, 4, 3, 1],\r\n        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ],\r\n];\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (levels);\r\n\n\n//# sourceURL=webpack://webpack_win/./src/levels/Levels.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Board */ \"./src/Board.ts\");\n/* harmony import */ var _GlobalVars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GlobalVars */ \"./src/GlobalVars.ts\");\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Keyboard */ \"./src/Keyboard.ts\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Player */ \"./src/Player.ts\");\n/* harmony import */ var _entities_Images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./entities/Images */ \"./src/entities/Images.ts\");\n\r\n\r\n\r\n\r\n\r\nvar Main = /** @class */ (function () {\r\n    function Main() {\r\n        var _this = this;\r\n        this.loadGraphics(_entities_Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\r\n        setTimeout(function () {\r\n            _this._gv = new _GlobalVars__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n            _this._board = new _Board__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_this._gv);\r\n            _this._player = new _Player__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_this._gv, _this._gv.playerX, _this._gv.playerY);\r\n            _this._keyboard = new _Keyboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this._gv, _this._player);\r\n            _this.setAnimationIntervals();\r\n            _this.animate();\r\n        }, 100);\r\n    }\r\n    Main.prototype.loadGraphics = function (list) {\r\n        console.log(\"loading images\");\r\n        var total = 0;\r\n        for (var i = 0; i < list.length; i++) {\r\n            var img = new Image(40, 40);\r\n            _entities_Images__WEBPACK_IMPORTED_MODULE_4__[\"default\"][i].image = img;\r\n            img.onload = function () {\r\n                total++;\r\n                if (total == list.length) {\r\n                    console.log(\"Images loaded!\");\r\n                }\r\n            };\r\n            img.src = list[i].url;\r\n        }\r\n    };\r\n    Main.prototype.setAnimationIntervals = function () {\r\n        var _this = this;\r\n        this._gv.diamondPhaseInterval = setInterval(function () {\r\n            if (_this._gv.diamondPhase < 7) {\r\n                _this._gv.diamondPhase++;\r\n            }\r\n            else {\r\n                _this._gv.diamondPhase = 0;\r\n            }\r\n        }, 50);\r\n        this._gv.fireflyPhaseInterval = setInterval(function () {\r\n            if (_this._gv.fireflyPhase < 7) {\r\n                _this._gv.fireflyPhase++;\r\n            }\r\n            else {\r\n                _this._gv.fireflyPhase = 0;\r\n            }\r\n        }, 35);\r\n        this._gv.butterflyPhaseInterval = setInterval(function () {\r\n            if (_this._gv.butterflyPhase < 7) {\r\n                _this._gv.butterflyPhase++;\r\n            }\r\n            else {\r\n                _this._gv.butterflyPhase = 0;\r\n            }\r\n        }, 45);\r\n        this._gv.amebaPhaseInterval = setInterval(function () {\r\n            if (_this._gv.amebaPhase < 7) {\r\n                _this._gv.amebaPhase++;\r\n            }\r\n            else {\r\n                _this._gv.amebaPhase = 0;\r\n            }\r\n        }, 40);\r\n        this._gv.playerPhaseInterval = setInterval(function () {\r\n            if (_this._gv.playerPhase < 7) {\r\n                _this._gv.playerPhase++;\r\n            }\r\n            else {\r\n                _this._gv.playerPhase = 0;\r\n            }\r\n        }, 40);\r\n    };\r\n    Main.prototype.animate = function () {\r\n        if (this._gv.runRender) {\r\n            this._gv.ctx.clearRect(0, 0, this._gv.canvas.width, this._gv.canvas.height);\r\n            if (this._gv.playerAlive) {\r\n                this._gv.ctx.fillStyle = \"black\";\r\n                this._gv.ctx.fillRect(0, 0, this._gv.canvas.width, this._gv.canvas.height);\r\n                this._board.update();\r\n                this._player.update();\r\n                requestAnimationFrame(this.animate.bind(this));\r\n            }\r\n        }\r\n    };\r\n    return Main;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Main);\r\nnew Main();\r\n\n\n//# sourceURL=webpack://webpack_win/./src/main.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;